{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SAN Foullah Sangara\\\\Gestion-Inscription\\\\inscriptionapp\\\\src\\\\pages\\\\portal\\\\dashboard.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Dashboard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      role: \"\",\n      user: \"\"\n    };\n\n    this.invalidContent = (inputOne, inputTwo) => {\n      inputOne.style.border = \"3px solid red\";\n      inputTwo.style.border = \"3px solid red\";\n    };\n\n    this.validContent = (inputOne, inputTwo) => {\n      inputOne.style.border = \"1px solid grey\";\n      inputTwo.style.border = \"1px solid grey\";\n    };\n\n    this.getData = async (table = true) => {\n      let response;\n      const token = sessionStorage.getItem(\"user\");\n      console.log(token);\n\n      if (table) {\n        response = await fetch(`/authenticate/etudiant/${token}`);\n      } else {\n        response = await fetch(`/authenticate/user/${token}`);\n      }\n\n      const body = await response.json();\n\n      if (body) {\n        if (table) {\n          this.setState({\n            role: \"etudiant\"\n          });\n          return true;\n        } else {\n          this.setState({\n            role: \"admin\"\n          });\n          return true;\n        }\n      }\n\n      if (!body) {\n        this.getData(false);\n      }\n\n      return body[0];\n    };\n  }\n\n  componentDidMount() {\n    this.getData().then(res => {\n      const data = res;\n      console.log(res);\n      this.setState({\n        formation: data\n      });\n    });\n  }\n\n  render() {\n    const {\n      role\n    } = this.state;\n    console.log(this.state.role);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page loading\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Loading ....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["C:/Users/SAN Foullah Sangara/Gestion-Inscription/inscriptionapp/src/pages/portal/dashboard.js"],"names":["Dashboard","Component","state","role","user","invalidContent","inputOne","inputTwo","style","border","validContent","getData","table","response","token","sessionStorage","getItem","console","log","fetch","body","json","setState","componentDidMount","then","res","data","formation","render"],"mappings":";;;AACA,MAAMA,SAAN,SAAwBC,SAAxB,CAAiC;AAAA;AAAA;AAAA,SAE5BC,KAF4B,GAErB;AACFC,MAAAA,IAAI,EAAC,EADH;AAEFC,MAAAA,IAAI,EAAG;AAFL,KAFqB;;AAAA,SAMzBC,cANyB,GAMV,CAACC,QAAD,EAAUC,QAAV,KAAqB;AAC/BD,MAAAA,QAAQ,CAACE,KAAT,CAAeC,MAAf,GAAwB,eAAxB;AACAF,MAAAA,QAAQ,CAACC,KAAT,CAAeC,MAAf,GAAwB,eAAxB;AACJ,KATwB;;AAAA,SAUzBC,YAVyB,GAUZ,CAACJ,QAAD,EAAUC,QAAV,KAAqB;AAC7BD,MAAAA,QAAQ,CAACE,KAAT,CAAeC,MAAf,GAAwB,gBAAxB;AACAF,MAAAA,QAAQ,CAACC,KAAT,CAAeC,MAAf,GAAwB,gBAAxB;AACJ,KAbwB;;AAAA,SAczBE,OAdyB,GAcf,OAAMC,KAAK,GAAG,IAAd,KAAsB;AAC3B,UAAIC,QAAJ;AACA,YAAMC,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAd;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;;AACA,UAAGF,KAAH,EAAS;AACJC,QAAAA,QAAQ,GAAG,MAAMM,KAAK,CAAE,0BAAyBL,KAAM,EAAjC,CAAtB;AACJ,OAFD,MAEK;AACAD,QAAAA,QAAQ,GAAG,MAAMM,KAAK,CAAE,sBAAqBL,KAAM,EAA7B,CAAtB;AACJ;;AACJ,YAAMM,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAT,EAAnB;;AACA,UAAGD,IAAH,EAAQ;AACH,YAAGR,KAAH,EAAS;AACJ,eAAKU,QAAL,CAAc;AAACnB,YAAAA,IAAI,EAAC;AAAN,WAAd;AACA,iBAAO,IAAP;AACJ,SAHD,MAGK;AACA,eAAKmB,QAAL,CAAc;AAACnB,YAAAA,IAAI,EAAC;AAAN,WAAd;AACA,iBAAO,IAAP;AACJ;AAEL;;AAED,UAAG,CAACiB,IAAJ,EAAS;AACN,aAAKT,OAAL,CAAa,KAAb;AACF;;AACD,aAAOS,IAAI,CAAC,CAAD,CAAX;AACD,KAvCwB;AAAA;;AAwCzBG,EAAAA,iBAAiB,GAAG;AAClB,SAAKZ,OAAL,GACGa,IADH,CACQC,GAAG,IAAE;AACT,YAAMC,IAAI,GAAGD,GAAb;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACA,WAAKH,QAAL,CAAc;AAACK,QAAAA,SAAS,EAAED;AAAZ,OAAd;AACD,KALH;AAOD;;AAIJE,EAAAA,MAAM,GAAE;AACH,UAAM;AAACzB,MAAAA;AAAD,QAAQ,KAAKD,KAAnB;AACAe,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhB,KAAL,CAAWC,IAAvB;AAEL,wBACK;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,6BACK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADL;AAAA;AAAA;AAAA;AAAA,YADL;AAKC;;AA7D2B;;AAiEjC,eAAeH,SAAf","sourcesContent":["\r\nclass Dashboard extends Component{\r\n\r\n     state ={\r\n          role:\"\",\r\n          user : \"\",\r\n        }\r\n        invalidContent=(inputOne,inputTwo)=>{    \r\n             inputOne.style.border = \"3px solid red\"\r\n             inputTwo.style.border = \"3px solid red\"\r\n        }\r\n        validContent=(inputOne,inputTwo)=>{    \r\n             inputOne.style.border = \"1px solid grey\"\r\n             inputTwo.style.border = \"1px solid grey\"\r\n        }\r\n        getData = async(table = true) =>{\r\n             let response;\r\n             const token = sessionStorage.getItem(\"user\");\r\n             console.log(token)\r\n             if(table){\r\n                  response = await fetch(`/authenticate/etudiant/${token}`);\r\n             }else{\r\n                  response = await fetch(`/authenticate/user/${token}`);\r\n             }\r\n          const body = await response.json();\r\n          if(body){\r\n               if(table){\r\n                    this.setState({role:\"etudiant\"})\r\n                    return true\r\n               }else{\r\n                    this.setState({role:\"admin\"})\r\n                    return true;\r\n               }\r\n               \r\n          }\r\n          \r\n          if(!body){\r\n             this.getData(false)\r\n          }\r\n          return body[0]\r\n        }\r\n        componentDidMount() {\r\n          this.getData()\r\n            .then(res=>{\r\n              const data = res;\r\n              console.log(res)\r\n              this.setState({formation: data});\r\n            })\r\n      \r\n        }\r\n      \r\n        \r\n   \r\n     render(){\r\n          const {role} =this.state;\r\n          console.log(this.state.role)\r\n         \r\n     return (\r\n          <div className=\"page loading\">\r\n               <h1>Loading ....</h1>\r\n          </div>\r\n     )\r\n     }\r\n   }\r\n\r\n\r\nexport default Dashboard\r\n"]},"metadata":{},"sourceType":"module"}